{# templates/base.html #}
{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{%block page_title%} {%endblock%}</title>


    {# CSRF token for HTMX non-GET requests #}
    <meta name="csrf-token" content="{{ csrf_token }}" />

    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script src="https://cdn.tailwindcss.com"></script>

     {% block scripts %}
     {% endblock %}

  </head>

  <body class="min-h-screen bg-zinc-950 text-zinc-100">
    <!-- App window / backdrop -->
    <div class="min-h-screen px-6 py-10">
      <div
        class="mx-auto overflow-hidden rounded-3xl border border-white/10 bg-zinc-950/40 shadow-2xl"
      >
        <!-- Header -->
        <header class="border-b border-white/10 bg-gradient-to-b from-white/5 to-transparent">
          <div class="px-8 py-6">
            <h1 class="text-3xl font-semibold tracking-tight">
              {% block page_heading %} {% endblock %}
            </h1>
          </div>
        </header>

        <!-- Main -->
        <div class="flex">

            {% block main_content %}{% endblock %}

          <!-- Content -->

        </div>

        <!-- Footer -->
        <footer class="border-t border-white/10 bg-white/[0.02]">
          <div class="px-8 py-4">
            <nav class="flex items-center justify-center gap-4 text-sm text-zinc-400">
              <a class="hover:text-zinc-200" href="#">Login</a>
              <span class="text-zinc-600">•</span>
              <a class="hover:text-zinc-200" href="#">Submit</a>
              <span class="text-zinc-600">•</span>
              <a class="hover:text-zinc-200" href="#">Sources</a>
              <span class="text-zinc-600">•</span>
              <a class="hover:text-zinc-200" href="#">About</a>
            </nav>
          </div>
        </footer>
      </div>
    </div>

    <!-- Optional: HTMX placeholders so you can “Djangoify” later -->
    <!--
      Example hooks:
      - Sidebar search: hx-get="/strikes" hx-target="#strike-list" hx-trigger="keyup changed delay:300ms"
      - Strike click: hx-get="/strikes/123" hx-target="#strike-detail"
    -->
    <script>
      // Attach Django CSRF token to HTMX requests (POST/PUT/PATCH/DELETE).
      document.body.addEventListener("htmx:configRequest", (event) => {
        const tokenMeta = document.querySelector('meta[name="csrf-token"]');
        if (tokenMeta && tokenMeta.content) {
          event.detail.headers["X-CSRFToken"] = tokenMeta.content;
        }
      });
    </script>
    {% block bottom_scripts %}
    {% endblock %}
  </body>
</html>





